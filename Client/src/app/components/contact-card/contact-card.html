<mat-card class="contact-card" [class.expanded]="expanded()">
  <mat-card-header>
    <div mat-card-avatar class="contact-avatar">
      <mat-icon>person</mat-icon>
    </div>
    <mat-card-title class="contact-name">{{ contact.fullName }}</mat-card-title>
  </mat-card-header>

  <mat-card-content class="contact-content">
    <div class="contact-info">
      <mat-icon class="info-icon">email</mat-icon>
      <span class="info-text">{{ contact.email }}</span>
    </div>

    <div class="contact-info" *ngIf="contact.city || contact.province">
      <mat-icon class="info-icon">location_on</mat-icon>
      <span class="info-text">{{ getLocation() }}</span>
    </div>

    <div class="contact-info" *ngIf="contact.phoneNumber">
      <mat-icon class="info-icon">phone</mat-icon>
      <span class="info-text">{{ contact.phoneNumber }}</span>
    </div>

    <div class="expanded-content" *ngIf="expanded() && hasAdditionalInfo()">
      <div class="contact-info" *ngIf="contact.address">
        <mat-icon class="info-icon">home</mat-icon>
        <span class="info-text">{{ contact.address }}</span>
      </div>
    </div>
  </mat-card-content>

  <mat-card-actions *ngIf="hasAdditionalInfo()" class="card-actions">
    <button mat-button class="expand-button" (click)="toggleExpanded($event)"
      [attr.aria-label]="expanded() ? 'Show less details' : 'Show more details'">
      <span>{{ expanded() ? 'Collapse' : 'Quick View' }}</span>
      <mat-icon>{{ expanded() ? 'expand_less' : 'expand_more' }}</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>